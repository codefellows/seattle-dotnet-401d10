@using Microsoft.AspNetCore.Identity;
@using CMSD10DemoCode.Models
@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
</head>
<body>
@if (SignInManager.IsSignedIn(User))
{
    <span>WELCOME @User.Claims.First(x => x.Type == "FullName").Value!</span>
    <form asp-page="/Account/Logout">
    <button type="submit">LOGOUT</button>
    </form>
}
else
{
    <a asp-page="/Account/Login">Login</a>

    <a asp-page="/Account/Register">Register</a>
}
    <div>
        @RenderBody()
    </div>
</body>
</html>
